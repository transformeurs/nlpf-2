{% extends "base.html" %}

{% block title %}S'inscrire{% endblock %}

{% block head %}
<script>
    function userRoleOnChange() {
        var radioButtons = document.getElementsByName("userRole");
        var selectedValue;
        for (var i = 0; i < radioButtons.length; i++) {
            if (radioButtons[i].checked) {
                selectedValue = radioButtons[i].value;
                break;
            }
        }
        if (selectedValue == "candidate") {
            document.getElementById("age-div").style.display = "block";
            document.getElementById("age").required = true;
        } else {
            document.getElementById("age-div").style.display = "none";
            document.getElementById("age").required = false;
        }
    }
</script>
{% endblock %}

{% block content %}
<form action="/signup" method="post" enctype="multipart/form-data" autocomplete="on" class="space-y-6">
    <div class="grid items-center justify-center">
        <div class="mb-2 text-center italic">Qui êtes-vous ?</div>
        <div>
            <input type="radio" name="userRole" value="candidate" id="candidateRole" checked="true"
                onchange="userRoleOnChange();">
            <label for="candidateRole" class="ml-2 mr-5">
                Candidat·e
            </label>
            <input type="radio" name="userRole" value="company" id="companyRole" onchange="userRoleOnChange();">
            <label for="companyRole" class="ml-2">
                Entreprise
            </label>
        </div>
    </div>

    <div>
        <label for="username">
            Name
        </label>
        <input type="text" id="username" name="username" autocomplete="name" placeholder="Votre nom" required>

        <div>
            <label for="email">
                E-mail
            </label>
            <input type="email" name="email" id="email" autocomplete="email" placeholder="Adresse de courriel" required>
        </div>

        <div>
            <label for="password">
                Password
            </label>
            <input type="password" name="password" id="password" autocomplete="new-password" placeholder="Mot de passe"
                required>
        </div>

        <div id="age-div">
            <label for="age">
                Âge
            </label>
            <input type="text" name="age" id="age" placeholder="Âge" required>
        </div>

        <div>
            <div>
                <textarea name="description" id="description" placeholder="Décrivez vous en quelques mots...">
                    </textarea>
            </div>
        </div>

        <div>
            Photo de profil
            <input type="file" id="fileinput" name="fileinput" accept="image/*" class="mt-3" required>
        </div>

        <div>
            <button type="submit" class="w-full">S'inscrire</button>
        </div>
</form>
{% endblock %}