{% extends "base.html" %}

{% block title %}S'inscrire{% endblock %}

{% block head %}
<script>
    function userRoleOnChange() {
        var radioButtons = document.getElementsByName("userRole");
        var selectedValue;
        for (var i = 0; i < radioButtons.length; i++) {
            if (radioButtons[i].checked) {
                selectedValue = radioButtons[i].value;
                break;
            }
        }
        if (selectedValue == "candidate") {
            document.getElementById("age-div").style.display = "block";
            document.getElementById("age").required = true;
        } else {
            document.getElementById("age-div").style.display = "none";
            document.getElementById("age").required = false;
        }
    }
</script>
{% endblock %}

{% block content %}
<div class="flex justify-center">
    <div class="w-full rounded-lg bg-white shadow lg:w-1/2">
        <div class="px-4 py-8 sm:px-10">
            <div class="text-center text-lg font-semibold">Inscription</div>
            <div class="mt-6">
                <form action="/signup" method="post" enctype="multipart/form-data" autocomplete="on" class="space-y-6">
                    <div class="grid items-center justify-center">
                        <div class="mb-2 text-center italic">Qui êtes-vous ?</div>
                        <div>
                            <input type="radio" name="userRole" value="candidate" id="candidateRole" checked="true"
                                onchange="userRoleOnChange();">
                            <label for="candidateRole" class="ml-2 mr-5">
                                Candidat·e
                            </label>
                            <input type="radio" name="userRole" value="company" id="companyRole"
                                onchange="userRoleOnChange();">
                            <label for="companyRole" class="ml-2">
                                Entreprise
                            </label>
                        </div>
                    </div>

                    <div class="relative mt-1 rounded-md shadow-sm">
                        <input type="text" id="username" name="username" autocomplete="name" placeholder="Votre nom"
                            class="block bg-white w-full rounded-md shadow-sm sm:text-sm border-gray-300 text-black focus:border-blue-500 focus:ring-blue-500"
                            required>
                    </div>

                    <div class="relative mt-1 rounded-md shadow-sm">
                        <input type="email" name="email" id="email" autocomplete="email"
                            placeholder="Adresse de courriel"
                            class="block bg-white w-full rounded-md shadow-sm sm:text-sm border-gray-300 text-black focus:border-blue-500 focus:ring-blue-500"
                            required>
                    </div>

                    <div class="relative mt-1 rounded-md shadow-sm">
                        <input type="password" name="password" id="password" autocomplete="new-password"
                            placeholder="Mot de passe"
                            class="block bg-white w-full rounded-md shadow-sm sm:text-sm border-gray-300 text-black focus:border-blue-500 focus:ring-blue-500"
                            required>
                    </div>

                    <div id="age-div" class="relative mt-1 rounded-md shadow-sm">
                        <input type="text" name="age" id="age" placeholder="Âge"
                            class="block bg-white w-full rounded-md shadow-sm sm:text-sm border-gray-300 text-black focus:border-blue-500 focus:ring-blue-500"
                            required>
                    </div>

                    <div class="relative mt-1 rounded-md shadow-sm">
                        <div>
                            <textarea name="description" id="description"
                                placeholder="Décrivez vous en quelques mots..." maxlength="500"
                                class="block bg-white w-full rounded-md shadow-sm sm:text-sm border-gray-300 text-black focus:border-blue-500 focus:ring-blue-500"></textarea>
                        </div>
                    </div>

                    <div>
                        <div>
                            <label for="fileinput">
                                <p class="italic">Photo de profil</p>
                            </label>
                        </div>
                        <input type="file" id="fileinput" name="fileinput" accept="image/*" class="mt-3" required>
                    </div>

                    <div>
                        <button type="submit"
                            class="w-full mt-5 inline-flex items-center justify-center rounded border font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 border-transparent bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 px-4 py-2 text-sm">
                            S'inscrire
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}